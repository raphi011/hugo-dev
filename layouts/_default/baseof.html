<!DOCTYPE html>
<html lang="{{ .Lang | default "en" }}" dir="{{ default "ltr" .Language.LanguageDirection }}">
  <head>
    {{- partial "head.html" . -}}
  </head>
  {{/* Inline script to set .dark class before first paint to prevent flash */}}
  <script>
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      document.documentElement.classList.add("dark");
    }
  </script>
  <body>
    {{- partial "header.html" . -}}
    <main>
      {{- block "main" . }}{{ end -}}
    </main>
    {{- partial "footer.html" . -}}
  </body>
</html>
