<!DOCTYPE html>
<html lang="{{ .Lang | default "en" }}" dir="{{ .Language.LanguageDirection | default "ltr" }}">
  <head>
    {{- partial "head.html" . -}}
    {{/* Must execute in <head> before any DOM renders to prevent flash of wrong theme */}}
    <script>
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.documentElement.classList.add("dark");
      }
    </script>
  </head>
  <body>
    {{- partial "header.html" . -}}
    <main>
      {{- block "main" . }}{{ end -}}
    </main>
    {{- partial "footer.html" . -}}
  </body>
</html>
